
<!doctype html>
<head>
  <meta charset="utf-8">
  <title>The website of Ross Chapman</title>
  <meta name="description" content="Web Developer seeking employment in the San Francisco Bay Area">
  <meta name="author" content="">
  <meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" type="text/css" media="all" href="style.css">
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600' rel='stylesheet' type='text/css'>
	

</head>

<body>
  <div class="container">
		<div class="header">
			<img class="gravatar" src="" width="70" height="70"/>
			<p class="header-copy">I'm <strong>Ross Chapman</strong>. A web developer and UX designer based in San Francisco's Mission district.</p> 
			<p class="header-copy">Over the last 5 years I've helped companies grow their business online with clean code and a deep understanding of web technology and design.  Get in touch to learn more about how I can help you: <strong>rosschapman@gmail.com</strong> </p>
			<p class="my-social header-copy">
				<a href="http://www.linkedin.com/in/rosschapman">LinkedIn</a>, <a href="http://twitter.com/internetross">Twitter</a>, <a href="https://gist.github.com/rosschapman">Github</a>, <a href="http://dribbble.com/internetross">Dribbble</a>
			</p>
		</div>
		
		<div class="posts">
		</div> <!--! end of .content -->
	</div> <!--! end of .container -->

	<div class="js-jay-z btn btn-default btn-sm">jay-z mode</div>
	<div class="jay-z"></div>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.6.2.min.js"><\/script>')</script>
	<script src="jquery.md5.js"></script>
	<script src="jquery.timeago.js"></script>
	<script>
		
		/** It's easy to get your gravatar! **/
		var img = $('.gravatar');
		var hash = $.md5('rosschapman@gmail.com').toLowerCase();
		var gravatar = 'http://www.gravatar.com/avatar/'+ hash + '?size=70';
		
		img.attr('src',gravatar);
		
		/** Reasonable Doubt **/
		
		var jay = $('.jay-z');
		$('.js-jay-z').click(function(){
			console.log(jay.css('opacity') == '1');
			if ( jay.css('opacity') == '1' ) {
				jay.removeClass('on').addClass('off').css('opacity','0');
				$(this).text('jay-z mode');
			} else {
				$(this).text('ross mode');
				jay.removeClass('off').addClass('on').css('opacity','1')
			}
		});
		
		// Dom ready
		$(function(){
			
				// 
				var params = {
					order: "ASC"
				}
				
				$.ajax({
					type: "GET",
					url: "http://public-api.wordpress.com/rest/v1/sites/internetross.wordpress.com/posts",
					data: params, 
					dataType: "jsonp"
				})
				  .done(function( res ) {

					console.log(res);
					
					var html;
					
					$.each(res.posts, function(i){
						var ID = res.posts[i].ID;
						var title = res.posts[i].title;
						
						// Markup
						html =  '<h1 class="post-title" style="display:none"><a href="#" data-id="'+ ID +'">'+ title +'</a></h1>';
						// Append post
						$('.posts').prepend(html);
						$('.post-title').fadeIn(300);
						
					});	// end each
					$('.post-title a').click( function(){
							
							
							var ID = $(this).attr('data-id');
							
							console.log(ID);
							
							if ( $('.posts').find('#pid-' + ID).length > 0 ) {
								console.log('nope');
							} else {

								$.ajax({
									type: "GET",
									url: "https://public-api.wordpress.com/rest/v1/sites/internetross.wordpress.com/posts/"+ ID +"",
									dataType: "jsonp"
								})
								  .done(function( res ) {
									//console.log(res);
									var ID = res.ID;
									var content = res.content;
									var title = res.title;
									var image = res.featured_image;
									var date = res.date;
									var tags = res.tags;

									var tagsArr = [];

									$.each(tags, function(i, el){
										tagsArr.push('#' + el.name);
									});

									tagsArr = tagsArr.join(", ");

									date = $.timeago(date);
									var wordCount = $(content).text().length;

									html = '<div id="pid-'+ ID +'" class="post" style="display:none">' + 
												'<img class="post-image img-responsive" src="'+ image +'" height="300"/>' +
												'<h1 class="post-title"><a>'+ title +'</a></h1>' +
												'<div class="post-meta">Published '+ date + '. ' + wordCount +' words.</div>' +
												'<div class="post-content">'+ content +'</div>' +
												'<div class="post-meta post-meta-end">'+ tagsArr +'</div>'
											'</div>'
											;

									$('.posts').prepend(html);
									$('.post').fadeIn(300);

								});
							}
					});
				  }); // end done
				}); // end dom ready
		
		
	</script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-43971638-1', 'rosschapman.github.io');
	  ga('send', 'pageview');

	</script>

</body>
</html>
